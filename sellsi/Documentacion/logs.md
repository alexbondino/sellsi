useProductForm.js:176 🔍 [hasActualChanges] Detección de cambios: {basicFieldsChanged: false, tramosChanged: false, imagenesChanged: true, specificationsChanged: false, shippingRegionsChanged: true, …}
useProductForm.js:176 🔍 [hasActualChanges] Detección de cambios: {basicFieldsChanged: false, tramosChanged: false, imagenesChanged: true, specificationsChanged: false, shippingRegionsChanged: true, …}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: false, hasActualChanges: true, isLoading: false, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: false, hasActualChanges: true, isLoading: false, isButtonDisabled: true}
useProductForm.js:176 🔍 [hasActualChanges] Detección de cambios: {basicFieldsChanged: false, tramosChanged: false, imagenesChanged: true, specificationsChanged: false, shippingRegionsChanged: true, …}
useProductForm.js:176 🔍 [hasActualChanges] Detección de cambios: {basicFieldsChanged: false, tramosChanged: false, imagenesChanged: true, specificationsChanged: false, shippingRegionsChanged: true, …}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: false, isButtonDisabled: false}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: false, isButtonDisabled: false}
AddProduct.jsx:540 🔥 [AddProduct.handleSubmit] Iniciando submit
AddProduct.jsx:552 🔍 [AddProduct.handleSubmit] Validando formulario...
AddProduct.jsx:554 📊 [AddProduct.handleSubmit] Errores de validación: {}
AddProduct.jsx:555 🧪 [AddProduct.handleSubmit] Nombre del producto: PSPSPSP
AddProduct.jsx:571 ✅ [AddProduct.handleSubmit] Validación pasó, continuando...
AddProduct.jsx:586 💾 [AddProduct.handleSubmit] Llamando submitForm()...
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
useProductForm.js:176 🔍 [hasActualChanges] Detección de cambios: {basicFieldsChanged: false, tramosChanged: false, imagenesChanged: true, specificationsChanged: false, shippingRegionsChanged: true, …}
useProductForm.js:176 🔍 [hasActualChanges] Detección de cambios: {basicFieldsChanged: false, tramosChanged: false, imagenesChanged: true, specificationsChanged: false, shippingRegionsChanged: true, …}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
useProductBackground.js:266 🔄 [updateCompleteProduct] Verificando si procesar imágenes: {hasImages: true, imageCount: 1, hasSpecs: false}
useProductBackground.js:273 📸 [updateCompleteProduct] Procesando imágenes/specs en background
useProductBackground.js:84 🔥 [processProductInBackground] Procesando imágenes: 1 archivos
useProductImages.js:124 🔥 [useProductImages.uploadImages] Llamando UploadService con replaceExisting: true
uploadService.js:222 🔥 [uploadMultipleImages] Iniciando con replaceExisting: true
uploadService.js:226 🧹 [uploadMultipleImages] Limpiando todas las imágenes existentes del producto 7f112164-f924-4c40-b698-192f9aa409c1
storageCleanupService.js:415 🔥 [deleteAllProductImages] Eliminando TODAS las imágenes del producto 7f112164-f924-4c40-b698-192f9aa409c1
storageCleanupService.js:418 🔍 [deleteAllProductImages] Paso 1: Eliminando registros de la BD
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
storageCleanupService.js:431 🗑️ [deleteAllProductImages] Eliminados 1 registros de la BD
storageCleanupService.js:434 🔍 [deleteAllProductImages] Paso 2: Buscando archivos en storage
storageCleanupService.js:73 🔍 [getProductFilesFromStorage] Buscando archivos para producto 7f112164-f924-4c40-b698-192f9aa409c1
storageCleanupService.js:76 🔍 [getProductFilesFromStorage] Listando directorios raíz del bucket product-images
storageCleanupService.js:86 📂 [getProductFilesFromStorage] Encontrados 8 elementos en la raíz
storageCleanupService.js:92 🔍 [getProductFilesFromStorage] Explorando directorio de supplier: 34e23a46-f8bb-4e50-b058-301ac6b0af12
storageCleanupService.js:100 📁 [getProductFilesFromStorage] Encontrados 11 elementos en 34e23a46-f8bb-4e50-b058-301ac6b0af12
storageCleanupService.js:108 🎯 [getProductFilesFromStorage] Encontrado directorio del producto: 34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1
storageCleanupService.js:115 📄 [getProductFilesFromStorage] Encontrados 1 archivos en directorio del producto
storageCleanupService.js:92 🔍 [getProductFilesFromStorage] Explorando directorio de supplier: 36131165-9505-4a7b-a96f-ac078de794af
storageCleanupService.js:100 📁 [getProductFilesFromStorage] Encontrados 3 elementos en 36131165-9505-4a7b-a96f-ac078de794af
storageCleanupService.js:92 🔍 [getProductFilesFromStorage] Explorando directorio de supplier: 65be7e25-d1a7-4a97-92d8-2ff0569a07dc
storageCleanupService.js:100 📁 [getProductFilesFromStorage] Encontrados 1 elementos en 65be7e25-d1a7-4a97-92d8-2ff0569a07dc
storageCleanupService.js:92 🔍 [getProductFilesFromStorage] Explorando directorio de supplier: 779b757a-b0f7-4095-86a1-8faa927fed24
storageCleanupService.js:100 📁 [getProductFilesFromStorage] Encontrados 3 elementos en 779b757a-b0f7-4095-86a1-8faa927fed24
storageCleanupService.js:92 🔍 [getProductFilesFromStorage] Explorando directorio de supplier: d8154398-b275-496f-936d-c44782e4ef00
storageCleanupService.js:100 📁 [getProductFilesFromStorage] Encontrados 26 elementos en d8154398-b275-496f-936d-c44782e4ef00
storageCleanupService.js:92 🔍 [getProductFilesFromStorage] Explorando directorio de supplier: db33e097-89df-45a1-9e40-72fe85138fb9
storageCleanupService.js:100 📁 [getProductFilesFromStorage] Encontrados 11 elementos en db33e097-89df-45a1-9e40-72fe85138fb9
storageCleanupService.js:92 🔍 [getProductFilesFromStorage] Explorando directorio de supplier: e6075619-052d-48a3-a1cb-20f9b37471c5
storageCleanupService.js:100 📁 [getProductFilesFromStorage] Encontrados 8 elementos en e6075619-052d-48a3-a1cb-20f9b37471c5
storageCleanupService.js:92 🔍 [getProductFilesFromStorage] Explorando directorio de supplier: product-images
storageCleanupService.js:100 📁 [getProductFilesFromStorage] Encontrados 1 elementos en product-images
storageCleanupService.js:190 ✅ [getProductFilesFromStorage] Encontrados 5 archivos para producto 7f112164-f924-4c40-b698-192f9aa409c1
storageCleanupService.js:436 📂 [deleteAllProductImages] Encontrados 5 archivos en storage: (5) ['34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924…698-192f9aa409c1/1754340743946_Modal_Rechazar.png', '34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924…98-192f9aa409c1/1754340743946_desktop_320x260.jpg', '34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924…98-192f9aa409c1/1754340743946_minithumb_40x40.jpg', '34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924…698-192f9aa409c1/1754340743946_mobile_190x153.jpg', '34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924…698-192f9aa409c1/1754340743946_tablet_300x230.jpg']
storageCleanupService.js:440 🔍 [deleteAllProductImages] Paso 3: Eliminando 5 archivos del storage
storageCleanupService.js:467 🔥 [removeFiles] Iniciando eliminación de 5 archivos
storageCleanupService.js:471 🗑️ [removeFiles] Eliminando archivo: product-images/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_Modal_Rechazar.png
storageCleanupService.js:482 ✅ [removeFiles] Eliminado exitosamente: product-images/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_Modal_Rechazar.png
storageCleanupService.js:471 🗑️ [removeFiles] Eliminando archivo: product-images-thumbnails/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_desktop_320x260.jpg
storageCleanupService.js:482 ✅ [removeFiles] Eliminado exitosamente: product-images-thumbnails/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_desktop_320x260.jpg
storageCleanupService.js:471 🗑️ [removeFiles] Eliminando archivo: product-images-thumbnails/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_minithumb_40x40.jpg
storageCleanupService.js:482 ✅ [removeFiles] Eliminado exitosamente: product-images-thumbnails/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_minithumb_40x40.jpg
storageCleanupService.js:471 🗑️ [removeFiles] Eliminando archivo: product-images-thumbnails/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_mobile_190x153.jpg
storageCleanupService.js:482 ✅ [removeFiles] Eliminado exitosamente: product-images-thumbnails/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_mobile_190x153.jpg
storageCleanupService.js:471 🗑️ [removeFiles] Eliminando archivo: product-images-thumbnails/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_tablet_300x230.jpg
storageCleanupService.js:482 ✅ [removeFiles] Eliminado exitosamente: product-images-thumbnails/34e23a46-f8bb-4e50-b058-301ac6b0af12/7f112164-f924-4c40-b698-192f9aa409c1/1754340743946_tablet_300x230.jpg
storageCleanupService.js:490 📊 [removeFiles] Resultado final: 5 eliminados, 0 errores
storageCleanupService.js:444 🧹 [deleteAllProductImages] Eliminados 5 archivos del storage
storageCleanupService.js:449 ✅ [deleteAllProductImages] Proceso completado: 5 archivos eliminados
uploadService.js:229 ✅ [uploadMultipleImages] Archivos limpiados: 5
uploadService.js:241 📊 [uploadMultipleImages] Total archivos: 1, Nuevos: 1, Existentes: 0
uploadService.js:378 🔍 [uploadImageWithThumbnail] Iniciando upload: {fileName: 'LK.webp', fileSize: 173494, isMainImage: true}
uploadService.js:414 📤 [uploadImageWithThumbnail] Iniciando upload a Supabase...
uploadService.js:433 💾 [uploadImageWithThumbnail] Guardando referencia en DB...
uploadService.js:459 ✅ [uploadImageWithThumbnail] Referencia guardada en DB exitosamente
uploadService.js:467 ⚠️ [uploadImageWithThumbnail] WebP detectado - saltando generación de thumbnail
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
useProductBackground.js:100 ✅ [processProductInBackground] Imágenes procesadas exitosamente
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
useProductBackground.js:277 ✅ [updateCompleteProduct] Procesamiento background completado
AddProduct.jsx:589 📋 [AddProduct.handleSubmit] Resultado de submitForm: {success: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
useSupplierProductsCRUD.js:266 [DEBUG] Refreshing product from database: 7f112164-f924-4c40-b698-192f9aa409c1
useSupplierProductsCRUD.js:281 [DEBUG] Fresh product data from DB: {productId: '7f112164-f924-4c40-b698-192f9aa409c1', imagesCount: 1, images: Array(1)}
useSupplierProductsCRUD.js:300 [DEBUG] Replacing product in state: {productId: '7f112164-f924-4c40-b698-192f9aa409c1', oldImagesCount: 1, newImagesCount: 1}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
ProductResultsPanel.jsx:45 🔍 [ProductResultsPanel] Estado del botón: {isEditMode: true, isValid: true, hasActualChanges: true, isLoading: true, isButtonDisabled: true}
uploadService.js:12 ✅ [UploadService] Supabase client inicializado correctamente
